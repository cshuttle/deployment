# path: apps/kube-system/synology-csi/secret.yaml
# BitwardenSecret to create the synology-csi-client-info secret
apiVersion: k8s.bitwarden.com/v1
kind: BitwardenSecret
metadata:
  name: synology-csi-credentials
  namespace: kube-system
  labels:
    app.kubernetes.io/name: synology-csi
    app.kubernetes.io/component: storage
spec:
  organizationId: "8b6e7054-a773-4eac-9d20-b2f500f8c99d"
  secretName: synology-csi-client-info
  map: # This is now an array
    - bwSecretId: 489c6ee3-bf06-4d41-af12-b30c00dd876d
      secretKeyName: iscsi_password
  authToken:
    secretName: bw-auth-token
    secretKey: token
  secretTemplate:
    type: Opaque
    stringData:
      client-info.yml: |
        clients:
        - host: "NAS-Storage.int.intergrem.com"
          port: 5000
          https: false
          username: "svc_iscsi"
          password: "{{ .iscsi_password }}"