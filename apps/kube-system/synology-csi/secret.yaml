# BitwardenSecret to create the synology-csi-client-info secret
apiVersion: bitwarden.com/v1
kind: BitwardenSecret
metadata:
  name: synology-csi-credentials
  namespace: kube-system
  labels:
    app.kubernetes.io/name: synology-csi
    app.kubernetes.io/component: storage
spec:
  organizationId: "8b6e7054-a773-4eac-9d20-b2f500f8c99d"  # Update with your Bitwarden organization ID
  secretName: synology-csi-client-info
  map:
    - bwSecretId: "ISCSI_SERVICE_ACCOUNT"
      secretKey: "iscsi_username"
    - bwSecretId: "ISCSI_SERVICE_ACCOUNT_PASSWORD"  
      secretKey: "iscsi_password"
  secretTemplate:
    type: Opaque
    stringData:
      client-info.yml: |
        clients:
        - host: "NAS-Storage.int.intergrem.com"
          port: 5000
          https: false
          username: "{{ .iscsi_username }}"
          password: "{{ .iscsi_password }}"
